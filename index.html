<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tyre Analysis System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .hidden { display: none !important; }
    </style>
</head>
<body class="font-sans">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen bg-gray-100 flex items-center justify-center p-4">
        <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md border-2 border-gray-300">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-blue-200 rounded-full mx-auto mb-4 flex items-center justify-center">
                    <i data-lucide="users" class="w-8 h-8 text-blue-600"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800">Tyre Analysis System</h1>
                <p class="text-gray-600 mt-2">Role-Based Access Portal</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Username</label>
                    <input type="text" placeholder="Enter username" class="w-full p-2 border-2 border-gray-300 rounded">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-1">Password</label>
                    <input type="password" placeholder="Enter password" class="w-full p-2 border-2 border-gray-300 rounded">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-1">Role</label>
                    <select class="w-full p-2 border-2 border-gray-300 rounded">
                        <option value="">Select Role</option>
                        <option value="rpsroe">RPSCoE</option>
                        <option value="btp-quality">BTP Quality</option>
                        <option value="btp-technical">BTP Technical</option>
                    </select>
                </div>
                
                <button onclick="login()" class="w-full bg-blue-600 text-white p-3 rounded font-medium hover:bg-blue-700">
                    LOGIN
                </button>
                
                <div class="text-center space-y-2 text-sm">
                    <button class="text-blue-600 hover:underline">Forgot Password?</button>
                    <p class="text-gray-600">Support: support@company.com | +1-234-567-8900</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Layout -->
    <div id="mainLayout" class="hidden min-h-screen bg-gray-100">
        <!-- Header -->
        <header class="bg-blue-700 text-white p-4 border-b-4 border-blue-900">
            <div class="flex justify-between items-center max-w-7xl mx-auto">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white rounded flex items-center justify-center">
                        <i data-lucide="bar-chart-3" class="w-6 h-6 text-blue-700"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Tyre Analysis Dashboard</h1>
                        <p class="text-sm text-blue-200">Automated Cut Tyre Quality Control</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <span class="text-sm">Role: <span id="userRole">RPSCoE</span></span>
                    <button onclick="logout()" class="px-4 py-2 bg-blue-900 rounded hover:bg-blue-800 flex items-center gap-2">
                        <i data-lucide="log-out" class="w-4 h-4"></i>
                        LOGOUT
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Tab Navigation -->
        <div class="bg-white border-b-2 border-gray-300">
            <div class="max-w-7xl mx-auto flex gap-1 p-2">
                <button onclick="switchTab('dashboard')" id="tab-dashboard" class="px-4 py-2 rounded flex items-center gap-2 bg-blue-600 text-white">
                    <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
                    Dashboard
                </button>
                <button onclick="switchTab('data-comparison')" id="tab-data-comparison" class="px-4 py-2 rounded flex items-center gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300">
                    <i data-lucide="database" class="w-4 h-4"></i>
                    Data Comparison
                </button>
                <button onclick="switchTab('analysis')" id="tab-analysis" class="px-4 py-2 rounded flex items-center gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300">
                    <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
                    Analysis
                </button>
                <button onclick="switchTab('reports')" id="tab-reports" class="px-4 py-2 rounded flex items-center gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300">
                    <i data-lucide="file-text" class="w-4 h-4"></i>
                    Reports
                </button>
                <button onclick="switchTab('settings')" id="tab-settings" class="px-4 py-2 rounded flex items-center gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300">
                    <i data-lucide="settings" class="w-4 h-4"></i>
                    Settings
                </button>
            </div>
        </div>
        
        <!-- Content Area -->
        <main class="max-w-7xl mx-auto p-6">
            <!-- Dashboard Tab -->
            <div id="content-dashboard" class="space-y-6">
                <!-- Filters Section -->
                <div class="bg-white p-4 rounded border-2 border-gray-300">
                    <h3 class="font-bold mb-3">Filters</h3>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex-1 min-w-[200px]">
                            <label class="block text-sm font-medium mb-1">Date Range</label>
                            <select class="w-full p-2 border-2 border-gray-300 rounded">
                                <option>Last 7 Days</option>
                                <option>Last 30 Days</option>
                                <option>Last Quarter</option>
                                <option>Custom Range</option>
                            </select>
                        </div>
                        
                        <div class="flex-1 min-w-[200px]">
                            <label class="block text-sm font-medium mb-1">Grade Filter</label>
                            <select class="w-full p-2 border-2 border-gray-300 rounded">
                                <option>All Grades</option>
                                <option>Grade A Only</option>
                                <option>Grade B Only</option>
                                <option>Grade C Only</option>
                                <option>Grade D Only</option>
                                <option>Grade C & D</option>
                            </select>
                        </div>
                        
                        <div class="flex-1 min-w-[200px]">
                            <label class="block text-sm font-medium mb-1">Deviation Filter</label>
                            <select class="w-full p-2 border-2 border-gray-300 rounded">
                                <option>All Deviations</option>
                                <option>No Deviation</option>
                                <option>Minor Deviation (&lt;5%)</option>
                                <option>Major Deviation (&gt;5%)</option>
                                <option>Critical Deviation (&gt;10%)</option>
                            </select>
                        </div>
                        
                        <div class="flex items-end">
                            <button class="px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 h-[42px]">
                                APPLY FILTERS
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- KPI Cards -->
                <div class="flex gap-4 overflow-x-auto">
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Overall Compliance</span>
                            <i data-lucide="check-circle" class="w-4 h-4 text-green-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-gray-800">87%</div>
                        <div class="text-xs text-gray-600 mt-1">Target: 85%</div>
                        <div class="mt-2 h-2 bg-gray-200 rounded">
                            <div class="h-2 bg-green-500 rounded" style="width: 87%"></div>
                        </div>
                    </div>
                    
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Total Tyres Tested</span>
                            <i data-lucide="bar-chart-3" class="w-4 h-4 text-blue-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-gray-800">1,420</div>
                        <div class="text-xs text-gray-600 mt-1">Last 30 Days</div>
                        <div class="text-xs text-green-600 mt-1">↑ 12% vs last month</div>
                    </div>
                    
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Grade A Tyres</span>
                            <i data-lucide="check-circle" class="w-4 h-4 text-green-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-green-700">856</div>
                        <div class="text-xs text-gray-600 mt-1">60.3% of total</div>
                        <div class="mt-2 h-2 bg-gray-200 rounded">
                            <div class="h-2 bg-green-500 rounded" style="width: 60.3%"></div>
                        </div>
                    </div>
                    
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Active Batches</span>
                            <i data-lucide="database" class="w-4 h-4 text-blue-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-gray-800">24</div>
                        <div class="text-xs text-gray-600 mt-1">In Production</div>
                        <div class="text-xs text-blue-600 mt-1">3 pending review</div>
                    </div>
                    
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Deviations (C+D)</span>
                            <i data-lucide="alert-triangle" class="w-4 h-4 text-yellow-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-yellow-700">102</div>
                        <div class="text-xs text-gray-600 mt-1">7.2% of total</div>
                        <div class="text-xs text-red-600 mt-1">23 critical (D grade)</div>
                    </div>
                    
                    <div class="flex-1 min-w-[180px] bg-white p-4 rounded border-2 border-gray-300">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-medium text-gray-600">Avg Processing Time</span>
                            <i data-lucide="bar-chart-3" class="w-4 h-4 text-gray-600"></i>
                        </div>
                        <div class="text-3xl font-bold text-gray-800">2.4h</div>
                        <div class="text-xs text-gray-600 mt-1">Per Batch</div>
                        <div class="text-xs text-green-600 mt-1">↓ 8% improvement</div>
                    </div>
                </div>
                
                <!-- Trend Graphs -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Compliance Trend -->
                    <div class="bg-white p-6 rounded border-2 border-gray-300">
                        <h3 class="font-bold text-lg mb-4">Compliance Trend - Last 30 Days</h3>
                        <div class="space-y-2">
                            <div class="flex items-end justify-between h-48 border-l-2 border-b-2 border-gray-400 pl-2 pb-2">
                                <div class="flex-1 flex flex-col justify-end items-center">
                                    <div class="w-full bg-green-500 rounded-t" style="height: 85%"></div>
                                    <span class="text-xs mt-1">Week 1</span>
                                </div>
                                <div class="flex-1 flex flex-col justify-end items-center">
                                    <div class="w-full bg-green-500 rounded-t" style="height: 82%"></div>
                                    <span class="text-xs mt-1">Week 2</span>
                                </div>
                                <div class="flex-1 flex flex-col justify-end items-center">
                                    <div class="w-full bg-green-500 rounded-t" style="height: 88%"></div>
                                    <span class="text-xs mt-1">Week 3</span>
                                </div>
                                <div class="flex-1 flex flex-col justify-end items-center">
                                    <div class="w-full bg-green-500 rounded-t" style="height: 87%"></div>
                                    <span class="text-xs mt-1">Week 4</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-center gap-4 text-sm">
                                <div class="flex items-center gap-2">
                                    <div class="w-4 h-4 bg-green-500 rounded"></div>
                                    <span>Compliance %</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-4 h-4 border-2 border-red-500"></div>
                                    <span>Target (85%)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Grade Distribution -->
                    <div class="bg-white p-6 rounded border-2 border-gray-300">
                        <h3 class="font-bold text-lg mb-4">Grade Distribution - Current Month</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="font-medium">Grade A (Excellent)</span>
                                    <span class="font-bold">856 units (60.3%)</span>
                                </div>
                                <div class="h-8 bg-gray-200 rounded relative">
                                    <div class="h-8 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold" style="width: 60.3%">
                                        60.3%
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="font-medium">Grade B (Good)</span>
                                    <span class="font-bold">462 units (32.5%)</span>
                                </div>
                                <div class="h-8 bg-gray-200 rounded relative">
                                    <div class="h-8 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold" style="width: 32.5%">
                                        32.5%
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="font-medium">Grade C (Alert)</span>
                                    <span class="font-bold">79 units (5.6%)</span>
                                </div>
                                <div class="h-8 bg-gray-200 rounded relative">
                                    <div class="h-8 bg-yellow-500 rounded flex items-center justify-center text-white text-xs font-bold" style="width: 5.6%">
                                        5.6%
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="font-medium">Grade D (Hold)</span>
                                    <span class="font-bold">23 units (1.6%)</span>
                                </div>
                                <div class="h-8 bg-gray-200 rounded relative">
                                    <div class="h-8 bg-red-500 rounded flex items-center justify-center text-white text-xs font-bold" style="width: 1.6%">
                                        1.6%
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Deviation Trend Graph -->
                <div class="bg-white p-6 rounded border-2 border-gray-300">
                    <h3 class="font-bold text-lg mb-4">Deviation Trend by Parameter - Last 7 Days</h3>
                    <div class="overflow-x-auto">
                        <div class="flex items-end justify-between h-64 border-l-2 border-b-2 border-gray-400 pl-2 pb-2 min-w-[800px]">
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 92%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Width</div>
                                        <div class="text-xs text-gray-600">92%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 88%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Height</div>
                                        <div class="text-xs text-gray-600">88%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 95%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Diameter</div>
                                        <div class="text-xs text-gray-600">95%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-yellow-500 rounded-t" style="height: 79%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Weight</div>
                                        <div class="text-xs text-yellow-600">79%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 91%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Tread Depth</div>
                                        <div class="text-xs text-gray-600">91%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 84%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Pressure</div>
                                        <div class="text-xs text-gray-600">84%</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 px-2">
                                <div class="space-y-1">
                                    <div class="flex flex-col items-center justify-end h-56">
                                        <div class="w-full bg-green-500 rounded-t" style="height: 93%"></div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs font-medium">Hardness</div>
                                        <div class="text-xs text-gray-600">93%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center justify-center gap-4 text-sm mt-4">
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-green-500 rounded"></div>
                                <span>Compliant (&gt;85%)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-yellow-500 rounded"></div>
                                <span>Alert (70-85%)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-red-500 rounded"></div>
                                <span>Critical (&lt;70%)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Data Comparison Tab -->
            <div id="content-data-comparison" class="hidden space-y-6">
                <!-- Comparison Table -->
                <div class="bg-white p-6 rounded border-2 border-gray-300">
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center gap-4">
                            <h2 class="text-xl font-bold">Master Data vs Measured Data Comparison</h2>
                            <div id="overallGradeContainer" class="hidden flex items-center gap-2">
                                <span class="text-sm font-medium text-gray-600">Overall Grade:</span>
                                <span class="px-4 py-1 rounded font-bold text-white text-lg bg-green-600">A</span>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <select id="recipeSelect" onchange="handleRecipeChange()" class="p-2 border-2 border-gray-300 rounded text-sm min-w-[200px]">
                                <option value="">Select Recipe</option>
                                <option value="recipe-a">Recipe A - Standard Compound</option>
                                <option value="recipe-b">Recipe B - High Performance</option>
                                <option value="recipe-c">Recipe C - All Weather</option>
                                <option value="recipe-d">Recipe D - Heavy Duty</option>
                                <option value="recipe-e">Recipe E - Eco Friendly</option>
                                <option value="recipe-f">Recipe F - Winter Special</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="recipeWarning" class="bg-yellow-50 border-2 border-yellow-300 rounded p-4 mb-4">
                        <p class="text-sm text-gray-700 text-center">
                            <strong>Note:</strong> Please select a recipe from the dropdown above to view Master Data and Measured Data comparison.
                        </p>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse">
                            <thead>
                                <tr class="bg-gray-200">
                                    <th class="border-2 border-gray-300 p-3 text-left w-1/4">Parameter Name</th>
                                    <th class="border-2 border-gray-300 p-3 text-left w-1/4 bg-blue-50">Master Data (Target Specs)</th>
                                    <th class="border-2 border-gray-300 p-3 text-left w-1/4 bg-green-50">Measured Data (Actual)</th>
                                    <th class="border-2 border-gray-300 p-3 text-center w-1/4">Grade</th>
                                </tr>
                            </thead>
                            <tbody id="parameterTableBody">
                                <!-- Table rows will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Comparison Summary -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="bg-white p-4 rounded border-2 border-green-300">
                        <div class="text-sm font-medium text-gray-600">Parameters Passed (A+B)</div>
                        <div class="text-3xl font-bold text-green-700" id="passedCount">0/44</div>
                        <div class="text-xs text-gray-600 mt-1" id="passedPercent">No Recipe Selected</div>
                    </div>
                    
                    <div class="bg-white p-4 rounded border-2 border-yellow-300">
                        <div class="text-sm font-medium text-gray-600">Alert Status (C)</div>
                        <div class="text-3xl font-bold text-yellow-700" id="alertCount">0/44</div>
                        <div class="text-xs text-gray-600 mt-1" id="alertStatus">No Recipe Selected</div>
                    </div>
                    
                    <div class="bg-white p-4 rounded border-2 border-red-300">
                        <div class="text-sm font-medium text-gray-600">Failed (D)</div>
                        <div class="text-3xl font-bold text-red-700" id="failedCount">0/44</div>
                        <div class="text-xs text-gray-600 mt-1" id="failedStatus">No Recipe Selected</div>
                    </div>
                    
                    <div class="bg-white p-4 rounded border-2 border-blue-300">
                        <div class="text-sm font-medium text-gray-600">Overall Grade</div>
                        <div class="text-3xl font-bold text-green-700" id="overallGrade">-</div>
                        <div class="text-xs text-gray-600 mt-1" id="overallStatus">No Recipe Selected</div>
                    </div>
                </div>
            </div>
            
            <!-- Analysis Tab -->
            <div id="content-analysis" class="hidden space-y-6">
                <div class="bg-white p-6 rounded border-2 border-gray-300">
                    <h2 class="text-xl font-bold mb-4">Tyre Analysis Dashboard</h2>
                    <p class="text-gray-600">Analysis features coming soon...</p>
                </div>
            </div>
            
            <!-- Reports Tab -->
            <div id="content-reports" class="hidden space-y-6">
                <div class="bg-white p-6 rounded border-2 border-gray-300">
                    <h2 class="text-xl font-bold mb-4">Reports</h2>
                    <p class="text-gray-600">Report generation features coming soon...</p>
                </div>
            </div>
            
            <!-- Settings Tab -->
            <div id="content-settings" class="hidden space-y-6">
                <div class="bg-white p-6 rounded border-2 border-gray-300">
                    <h2 class="text-xl font-bold mb-4">Settings</h2>
                    <p class="text-gray-600">Settings configuration coming soon...</p>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="bg-gray-800 text-white text-center p-4 mt-8">
            <p class="text-sm">© 2026 Tyre Analysis System | Version 1.0</p>
        </footer>
    </div>

    <script>
        // Sample data
        const allParameters = [
            { name: 'Overall Tread Center Gauge', master: '12.5mm ±0.5', measured: '12.7mm', deviation: '+0.2mm', grade: 'A' },
            { name: 'Overall Shoulder Gauge SS', master: '11.0mm ±0.4', measured: '11.3mm', deviation: '+0.3mm', grade: 'B' },
            { name: 'Overall Shoulder Gauge OSS', master: '11.0mm ±0.4', measured: '11.5mm', deviation: '+0.5mm', grade: 'C' },
            { name: 'Tread Center Rubber Gauge', master: '8.5mm ±0.3', measured: '8.6mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Tread shoulder Rubber gauge SS', master: '7.8mm ±0.3', measured: '7.9mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Tread shoulder Rubber gauge OSS', master: '7.8mm ±0.3', measured: '8.0mm', deviation: '+0.2mm', grade: 'B' },
            { name: 'Under Tread 1 at Center', master: '1.8mm ±0.2', measured: '1.9mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Under Tread 2 at Shoulder SS', master: '1.5mm ±0.2', measured: '1.6mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Under Tread 2 at Shoulder OSS', master: '1.5mm ±0.2', measured: '1.7mm', deviation: '+0.2mm', grade: 'B' },
            { name: 'Inner Liner gauge at shoulders SS', master: '1.2mm ±0.1', measured: '1.25mm', deviation: '+0.05mm', grade: 'A' },
            { name: 'Inner Liner gauge at shoulders OSS', master: '1.2mm ±0.1', measured: '1.28mm', deviation: '+0.08mm', grade: 'B' },
            { name: 'Belt 1 Width', master: '165mm ±2', measured: '166mm', deviation: '+1mm', grade: 'A' },
            { name: 'Belt 2 Width', master: '152mm ±2', measured: '153mm', deviation: '+1mm', grade: 'A' },
            { name: 'Belt 1 Centering SS', master: '0mm ±1', measured: '0.5mm', deviation: '+0.5mm', grade: 'A' },
            { name: 'Belt 1 Centering OSS', master: '0mm ±1', measured: '-0.3mm', deviation: '-0.3mm', grade: 'A' },
            { name: 'Belt 2 Centering SS', master: '0mm ±1', measured: '0.6mm', deviation: '+0.6mm', grade: 'B' },
            { name: 'Belt 2 Centering OSS', master: '0mm ±1', measured: '-0.4mm', deviation: '-0.4mm', grade: 'A' },
            { name: 'Half Width of capstrip SS', master: '8.5mm ±0.5', measured: '8.7mm', deviation: '+0.2mm', grade: 'A' },
            { name: 'Half Width of capstrip OSS', master: '8.5mm ±0.5', measured: '8.8mm', deviation: '+0.3mm', grade: 'B' },
            { name: 'Pad Gauge SS', master: '2.5mm ±0.2', measured: '2.6mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Pad Gauge OSS', master: '2.5mm ±0.2', measured: '2.7mm', deviation: '+0.2mm', grade: 'B' },
            { name: 'Mid Sidewall Rubber Gauge SS', master: '3.2mm ±0.3', measured: '3.3mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Mid Sidewall Rubber Gauge OSS', master: '3.2mm ±0.3', measured: '3.5mm', deviation: '+0.3mm', grade: 'B' },
            { name: 'Rim strip height SS', master: '6.5mm ±0.4', measured: '6.7mm', deviation: '+0.2mm', grade: 'A' },
            { name: 'Rim strip height OSS', master: '6.5mm ±0.4', measured: '6.8mm', deviation: '+0.3mm', grade: 'B' },
            { name: 'SW ending from heel SS', master: '12mm ±1', measured: '12.5mm', deviation: '+0.5mm', grade: 'A' },
            { name: 'SW ending from heel OSS', master: '12mm ±1', measured: '12.8mm', deviation: '+0.8mm', grade: 'B' },
            { name: 'Filler Height SS', master: '18mm ±1', measured: '18.5mm', deviation: '+0.5mm', grade: 'A' },
            { name: 'Filler Height OSS', master: '18mm ±1', measured: '18.7mm', deviation: '+0.7mm', grade: 'B' },
            { name: 'Ply 1 turn-up height SS', master: '42mm ±2', measured: '43mm', deviation: '+1mm', grade: 'A' },
            { name: 'Ply 1 turn-up height OSS', master: '42mm ±2', measured: '43.5mm', deviation: '+1.5mm', grade: 'B' },
            { name: 'Ply 2 turn-up height SS', master: '38mm ±2', measured: '39mm', deviation: '+1mm', grade: 'A' },
            { name: 'Ply 2 turn-up height OSS', master: '38mm ±2', measured: '39.5mm', deviation: '+1.5mm', grade: 'B' },
            { name: 'Overall Bead width SS', master: '14.5mm ±0.5', measured: '14.7mm', deviation: '+0.2mm', grade: 'A' },
            { name: 'Overall Bead width OSS', master: '14.5mm ±0.5', measured: '14.9mm', deviation: '+0.4mm', grade: 'B' },
            { name: 'Chimney Position on Rib', master: 'Center ±2mm', measured: 'Center +1mm', deviation: '+1mm', grade: 'A' },
            { name: 'Bead Construction', master: 'Type A', measured: 'Type A', deviation: '0', grade: 'A' },
            { name: 'Toe-Toe Distance', master: '145mm ±2', measured: '146mm', deviation: '+1mm', grade: 'A' },
            { name: 'Rubber Gauge at bead (Bead ring line) SS', master: '2.8mm ±0.2', measured: '2.9mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Rubber Gauge at bead (Bead ring line) OSS', master: '2.8mm ±0.2', measured: '3.0mm', deviation: '+0.2mm', grade: 'B' },
            { name: 'Material Gauge under the bead SS', master: '3.5mm ±0.3', measured: '3.6mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'Material Gauge under the bead OSS', master: '3.5mm ±0.3', measured: '3.8mm', deviation: '+0.3mm', grade: 'B' },
            { name: 'UT gauge above cap ply @ shoulder SS', master: '1.6mm ±0.2', measured: '1.7mm', deviation: '+0.1mm', grade: 'A' },
            { name: 'UT gauge above cap ply @ shoulder OSS', master: '1.6mm ±0.2', measured: '1.8mm', deviation: '+0.2mm', grade: 'B' }
        ];

        // State management
        let selectedRecipe = '';

        // Initialize Lucide icons
        lucide.createIcons();

        // Login function
        function login() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainLayout').classList.remove('hidden');
            lucide.createIcons();
        }

        // Logout function
        function logout() {
            document.getElementById('mainLayout').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            lucide.createIcons();
        }

        // Tab switching
        function switchTab(tabId) {
            // Hide all content
            document.querySelectorAll('[id^="content-"]').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('[id^="tab-"]').forEach(el => {
                el.className = 'px-4 py-2 rounded flex items-center gap-2 bg-gray-200 text-gray-700 hover:bg-gray-300';
            });
            
            // Show selected content
            document.getElementById('content-' + tabId).classList.remove('hidden');
            
            // Add active class to selected tab
            document.getElementById('tab-' + tabId).className = 'px-4 py-2 rounded flex items-center gap-2 bg-blue-600 text-white';
            
            // Refresh icons
            lucide.createIcons();
        }

        // Recipe change handler
        function handleRecipeChange() {
            selectedRecipe = document.getElementById('recipeSelect').value;
            updateDataComparisonView();
        }

        // Update data comparison view
        function updateDataComparisonView() {
            const tableBody = document.getElementById('parameterTableBody');
            const warning = document.getElementById('recipeWarning');
            const overallGradeContainer = document.getElementById('overallGradeContainer');
            
            if (selectedRecipe) {
                warning.classList.add('hidden');
                overallGradeContainer.classList.remove('hidden');
                
                // Populate table
                tableBody.innerHTML = allParameters.map(param => {
                    const gradeColor = param.grade === 'A' ? 'bg-green-600' :
                                      param.grade === 'B' ? 'bg-blue-600' :
                                      param.grade === 'C' ? 'bg-yellow-600' : 'bg-red-600';
                    
                    return `
                        <tr class="hover:bg-gray-50">
                            <td class="border-2 border-gray-300 p-3 font-medium">${param.name}</td>
                            <td class="border-2 border-gray-300 p-3 bg-blue-50">${param.master}</td>
                            <td class="border-2 border-gray-300 p-3 bg-green-50">${param.measured}</td>
                            <td class="border-2 border-gray-300 p-3 text-center">
                                <span class="px-3 py-1 rounded font-bold text-white ${gradeColor}">${param.grade}</span>
                            </td>
                        </tr>
                    `;
                }).join('');
                
                // Update summary
                document.getElementById('passedCount').textContent = '43/44';
                document.getElementById('passedPercent').textContent = '97.7% Compliance';
                document.getElementById('alertCount').textContent = '1/44';
                document.getElementById('alertStatus').textContent = 'Requires Monitoring';
                document.getElementById('failedCount').textContent = '0/44';
                document.getElementById('failedStatus').textContent = 'No Failures';
                document.getElementById('overallGrade').textContent = 'A';
                document.getElementById('overallStatus').textContent = 'Excellent Performance';
            } else {
                warning.classList.remove('hidden');
                overallGradeContainer.classList.add('hidden');
                
                // Clear table
                tableBody.innerHTML = allParameters.map(param => `
                    <tr class="hover:bg-gray-50">
                        <td class="border-2 border-gray-300 p-3 font-medium">${param.name}</td>
                        <td class="border-2 border-gray-300 p-3 bg-blue-50">-</td>
                        <td class="border-2 border-gray-300 p-3 bg-green-50">-</td>
                        <td class="border-2 border-gray-300 p-3 text-center">
                            <span class="text-gray-400">-</span>
                        </td>
                    </tr>
                `).join('');
                
                // Reset summary
                document.getElementById('passedCount').textContent = '0/44';
                document.getElementById('passedPercent').textContent = 'No Recipe Selected';
                document.getElementById('alertCount').textContent = '0/44';
                document.getElementById('alertStatus').textContent = 'No Recipe Selected';
                document.getElementById('failedCount').textContent = '0/44';
                document.getElementById('failedStatus').textContent = 'No Recipe Selected';
                document.getElementById('overallGrade').textContent = '-';
                document.getElementById('overallStatus').textContent = 'No Recipe Selected';
            }
        }

        // Initialize the page
        updateDataComparisonView();
    </script>
</body>
</html>
